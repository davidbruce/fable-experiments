(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function w(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function se(e){return e!=null&&typeof e.GetEnumerator=="function"}function ue(e){return e!=null&&typeof e.CompareTo=="function"}function le(e){return e!=null&&typeof e.Equals=="function"}function ae(e){return e!=null&&typeof e.GetHashCode=="function"}function N(){return null}function Z(e,t){var n,r;return((n=Object.getPrototypeOf(e))==null?void 0:n.constructor)===((r=Object.getPrototypeOf(t))==null?void 0:r.constructor)}class ce{constructor(t){this.iter=t,this.current=N()}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const t=this.iter.next();return this.current=t.value,!t.done}"System.Collections.IEnumerator.Reset"(){throw new Error("JS iterators cannot be reset")}Dispose(){}}function q(e){return se(e)?e.GetEnumerator():new ce(e[Symbol.iterator]())}function fe(e){return{next(){const t=e["System.Collections.IEnumerator.MoveNext"](),n=t?e["System.Collections.Generic.IEnumerator`1.get_Current"]():void 0;return{done:!t,value:n}}}}function V(e,t){return e.toString(10).padStart(t,"0")}function $(e){const t=e;return typeof t.offset=="number"?t.offset:e.kind===1?0:e.getTimezoneOffset()*-6e4}class h{static id(t){return h.idMap.has(t)||h.idMap.set(t,++h.count),h.idMap.get(t)}}h.idMap=new WeakMap;h.count=0;function X(e){let t=0,n=5381;const r=e.length;for(;t<r;)n=n*33^e.charCodeAt(t++);return n}function B(e){return e*2654435761|0}function he(e){return X(e.toString(32))}function F(e){let t=0;const n=e.length;for(let r=0;r<n;r++){const o=e[r];t=(t<<5)+t^o}return t}function me(e){return e.getTime()}function de(e){const t=e.length,n=new Array(t);for(let r=0;r<t;r++)n[r]=E(e[r]);return F(n)}function E(e){var t;if(e==null)return 0;switch(typeof e){case"boolean":return e?1:0;case"number":return B(e);case"bigint":return he(e);case"string":return X(e);default:{if(ae(e))return e.GetHashCode();if(w(e))return de(e);if(e instanceof Date)return me(e);if(((t=Object.getPrototypeOf(e))==null?void 0:t.constructor)===Object){const n=Object.values(e).map(r=>E(r));return F(n)}else return B(h.id(e))}}}function ge(e,t,n){if(e==null)return t==null;if(t==null||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function pe(e,t){return ge(e,t,v)}function be(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;n.sort(),r.sort();for(let o=0;o<n.length;o++)if(n[o]!==r[o]||!v(e[n[o]],t[r[o]]))return!1;return!0}function v(e,t){var n;return e===t?!0:e==null?t==null:t==null?!1:le(e)?e.Equals(t):w(e)?w(t)&&pe(e,t):typeof e!="object"?!1:e instanceof Date?t instanceof Date&&Q(e,t)===0:((n=Object.getPrototypeOf(e))==null?void 0:n.constructor)===Object&&be(e,t)}function Q(e,t){let n,r;return"offset"in e&&"offset"in t?(n=e.getTime(),r=t.getTime()):(n=e.getTime()+$(e),r=t.getTime()+$(t)),n===r?0:n<r?-1:1}function ye(e,t,n){if(e==null)return t==null?0:1;if(t==null)return-1;if(e.length!==t.length)return e.length<t.length?-1:1;for(let r=0,o=0;r<e.length;r++)if(o=n(e[r],t[r]),o!==0)return o;return 0}function we(e,t){return ye(e,t,O)}function Se(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return n.length<r.length?-1:1;n.sort(),r.sort();for(let o=0,i=0;o<n.length;o++){const s=n[o];if(s!==r[o])return s<r[o]?-1:1;if(i=O(e[s],t[s]),i!==0)return i}return 0}function O(e,t){var n;return e===t?0:e==null?t==null?0:-1:t==null?1:ue(e)?e.CompareTo(t):w(e)?w(t)?we(e,t):-1:typeof e!="object"?e<t?-1:1:e instanceof Date?t instanceof Date?Q(e,t):-1:((n=Object.getPrototypeOf(e))==null?void 0:n.constructor)===Object?Se(e,t):-1}function Ce(e){let t=0,n="[";for(const r of e){if(t===0)n+=S(r);else if(t===100){n+="; ...";break}else n+="; "+S(r);t++}return n+"]"}function S(e,t=0){var n;if(e!=null&&typeof e=="object"){if(typeof e.toString=="function")return e.toString();if(Symbol.iterator in e)return Ce(e);{const r=(n=Object.getPrototypeOf(e))==null?void 0:n.constructor;return r===Object&&t<10?"{ "+Object.entries(e).map(([o,i])=>o+" = "+S(i,t+1)).join(`
  `)+" }":(r==null?void 0:r.name)??""}}return String(e)}function Ee(e){const t={},n=Object.keys(e);for(let r=0;r<n.length;r++)t[n[r]]=e[n[r]];return t}function ve(e){return"{ "+Object.entries(e).map(([t,n])=>t+" = "+S(n)).join(`
  `)+" }"}function Oe(e){const t=Object.values(e).map(n=>E(n));return F(t)}function Te(e,t){if(e===t)return!0;if(Z(e,t)){const n=Object.keys(e);for(let r=0;r<n.length;r++)if(!v(e[n[r]],t[n[r]]))return!1;return!0}else return!1}function ke(e,t){if(e===t)return 0;if(Z(e,t)){const n=Object.keys(e);for(let r=0;r<n.length;r++){const o=O(e[n[r]],t[n[r]]);if(o!==0)return o}return 0}else return-1}class P{toJSON(){return Ee(this)}toString(){return ve(this)}GetHashCode(){return Oe(this)}Equals(t){return Te(this,t)}CompareTo(t){return ke(this,t)}}const p=Symbol("numeric");function Ie(e){return typeof e=="number"||typeof e=="bigint"||(e==null?void 0:e[p])}function _e(e,t){return typeof e=="number"||typeof e=="bigint"?e<t?-1:e>t?1:0:e.CompareTo(t)}function Ne(e,t){return typeof e=="number"?e*t:typeof e=="bigint"?e*BigInt(t):e[p]().multiply(t)}function je(e,t){return typeof e=="number"?e.toFixed(t):typeof e=="bigint"?e:e[p]().toFixed(t)}function W(e,t){return typeof e=="number"?e.toPrecision(t):typeof e=="bigint"?e:e[p]().toPrecision(t)}function K(e,t){return typeof e=="number"?e.toExponential(t):typeof e=="bigint"?e:e[p]().toExponential(t)}function J(e){return typeof e=="number"?(Number(e)>>>0).toString(16):typeof e=="bigint"?BigInt.asUintN(64,e).toString(16):e[p]().toHex()}function Ae(e){const t=e<0;e=Math.abs(e);const n=~~(e/36e5),r=e%36e5/6e4;return(t?"-":"+")+V(n,2)+":"+V(r,2)}function He(e,t){return new Date(e.getTime()+(e.offset??0)).toISOString().replace(/\.\d+/,"").replace(/[A-Z]|\.\d+/g," ")+Ae(e.offset??0)}function Le(e,t){return e.kind===1?e.toUTCString():e.toLocaleString()}function Fe(e,t,n){return e.offset!=null?He(e):Le(e)}function Pe(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}const y=/(^|[^%])%([0+\- ]*)(\*|\d+)?(?:\.(\d+))?(\w)/g;function Me(e,t){return _e(e,t)<0}function T(e){return{input:e,cont:Ge(e)}}function Re(e,t){return typeof t=="string"?e(t):t.cont(e)}function k(e){return Re(t=>console.log(t),e)}function De(e,t,n,r,o){let i="";if(t=t||"",o=o||"",Ie(e))switch(o.toLowerCase()!=="x"&&(Me(e,0)?(e=Ne(e,-1),i="-"):t.indexOf(" ")>=0?i=" ":t.indexOf("+")>=0&&(i="+")),r=r==null?null:parseInt(r,10),o){case"f":case"F":r=r??6,e=je(e,r);break;case"g":case"G":e=r!=null?W(e,r):W(e);break;case"e":case"E":e=r!=null?K(e,r):K(e);break;case"x":e=J(e);break;case"X":e=J(e).toUpperCase();break;default:e=String(e);break}else e instanceof Date?e=Fe(e):e=S(e);if(n=typeof n=="number"?n:parseInt(n,10),isNaN(n))e=i+e;else{const s=t.indexOf("0")>=0,u=t.indexOf("-")>=0,l=u||!s?" ":"0";l==="0"?(e=U(e,n-i.length,l,u),e=i+e):e=U(i+e,n,l,u)}return e}function Y(e,t,n,r="",o=-1){return(...i)=>{let s=r;const u=t.slice(),l=n.slice();for(const a of i){const[,,m,b,I,ie]=l[0];let A=b;if(o>=0)A=o,o=-1;else if(A==="*"){if(a<0)throw new Error("Non-negative number required");o=a;continue}s+=u[0],s+=De(a,m,A,I,ie),u.splice(0,1),l.splice(0,1)}return l.length===0?(s+=u[0],e(s)):Y(e,u,l,s,o)}}function Ge(e){return t=>{y.lastIndex=0;const n=[],r=[];let o=0,i=y.exec(e);for(;i;){const s=i.index+(i[1]||"").length;n.push(e.substring(o,s).replace(/%%/g,"%")),r.push(i),o=y.lastIndex,y.lastIndex-=1,i=y.exec(e)}return n.length===0?t(e.replace(/%%/g,"%")):(n.push(e.substring(o).replace(/%%/g,"%")),Y(t,n,r))}}function qe(e,t){return Array.isArray(t)?t.join(e):Array.from(t).join(e)}function U(e,t,n,r){n=n||" ",t=t-e.length;for(let o=0;o<t;o++)e=r?e+n:n+e;return e}function x(e,t,n){return e.replace(new RegExp(Pe(t),"g"),n)}class g{constructor(t){this.value=t}toJSON(){return this.value}toString(){return String(this.value)}GetHashCode(){return E(this.value)}Equals(t){return t==null?!1:v(this.value,t instanceof g?t.value:t)}CompareTo(t){return t==null?1:O(this.value,t instanceof g?t.value:t)}}function f(e){if(e==null)throw new Error("Option has no value");return e instanceof g?e.value:e}function ee(e){return e==null||e instanceof g?new g(e):e}function te(e,t){return t!=null?ee(e(f(t))):void 0}const ne="Collection was empty.";function Ve(e,t,n,r){const o=t|0;return e.fill(r,o,o+n)}function $e(e,t){if(e<0||e>=t.length)throw new Error("Index was outside the bounds of the array.\\nParameter name: index");return t[e]}function Be(e,t,n){if(t<0||t>=e.length)throw new Error("Index was outside the bounds of the array.\\nParameter name: index");e[t]=n}class M extends P{constructor(t,n){super(),this.head=t,this.tail=n}toString(){return"["+qe("; ",this)+"]"}Equals(t){const n=this;return n===t?!0:((o,i)=>{e:for(;;){const s=o,u=i,l=s.tail,a=u.tail;if(l!=null)if(a!=null){const m=f(l),b=f(a);if(v(s.head,u.head)){o=m,i=b;continue e}else return!1}else return!1;else return a==null}})(n,t)}GetHashCode(){return((r,o,i)=>{e:for(;;){const s=r,u=o,l=i,a=l.tail;if(a!=null){const m=f(a);if(s>18)return u|0;r=s+1,o=(u<<1)+E(l.head)+631*s,i=m;continue e}else return u|0}})(0,0,this)|0}toJSON(){const t=this;return Array.from(t)}CompareTo(t){return((o,i)=>{e:for(;;){const s=o,u=i,l=s.tail,a=u.tail;if(l!=null)if(a!=null){const m=f(l),b=f(a),I=O(s.head,u.head)|0;if(I===0){o=m,i=b;continue e}else return I|0}else return 1;else return a!=null?-1:0}})(this,t)|0}GetEnumerator(){return Ke(this)}[Symbol.iterator](){return fe(q(this))}"System.Collections.IEnumerable.GetEnumerator"(){return q(this)}}class We{constructor(t){this.xs=t,this.it=this.xs,this.current=N()}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const t=this,n=t.it.tail;if(n!=null){const r=f(n);return t.current=t.it.head,t.it=r,!0}else return!1}"System.Collections.IEnumerator.Reset"(){const t=this;t.it=t.xs,t.current=N()}Dispose(){}}function Ke(e){return new We(e)}function L(){return new M(N(),void 0)}function Je(e,t){return new M(e,t)}function R(e){return e.tail==null}function Ue(e){return((n,r)=>{e:for(;;){const o=n,s=r.tail;if(s!=null){n=o+1,r=f(s);continue e}else return o|0}})(0,e)|0}function D(e){if(e.tail!=null)return e.head;throw new Error(ne+"\\nParameter name: list")}function j(e){const t=e.tail;if(t!=null)return f(t);throw new Error(ne+"\\nParameter name: list")}function ze(e){return D(e)}function Ze(e){const t=Ue(e)|0,n=Ve(new Array(t),0,t,null);return((o,i)=>{e:for(;;){const s=o,u=i;if(!R(u)){Be(n,s,D(u)),o=s+1,i=j(u);continue e}break}})(0,e),n}function Xe(e,t,n){let r=t,o=n;for(;!R(o);)r=e(r,ze(o)),o=j(o);return r}function Qe(e,t){let n=t;for(let r=e.length-1;r>=0;r--)n=Je($e(r,e),n);return n}function re(e){return Qe(e,L())}function Ye(e,t){const n=L(),r=Xe((i,s)=>{const u=new M(e(s),void 0);return i.tail=u,u},n,t),o=L();return r.tail=o,j(n)}function xe(e,t){return(r=>{e:for(;;){const o=r;if(R(o))return;{const i=e(D(o));if(i==null){r=j(o);continue e}else return i}}})(t)}function et(e,t){return xe(n=>e(n)?ee(n):void 0,t)}function tt(){const e=document.getElementById("app");k(T("at about")),e.innerHTML="About"}const nt=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","animation","audio","canvas","circle","clipPath","color-profile","cursor","defs","desc","discard","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","handler","hkern","iframe","image","line","linearGradient","listener","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","prefetch","radialGradient","rect","script","set","solidColor","stop","style","svg","switch","symbol","tbreak","text","textArea","textPath","title","tref","tspan","unknown","use","video","view","vkern"],d=new Set(nt);d.delete("a");d.delete("audio");d.delete("canvas");d.delete("iframe");d.delete("script");d.delete("video");const rt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ot=e=>e===DocumentFragment,it=(e,t)=>{for(const[n,r]of Object.entries(t))n.startsWith("-")?e.style.setProperty(n,r):typeof r=="number"&&!rt.test(n)?e.style[n]=`${r}px`:e.style[n]=r},st=e=>typeof e=="string"?d.has(e)?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e):ot(e)?document.createDocumentFragment():e(e.defaultProps),z=(e,t,n)=>{n!=null&&(/^xlink[AHRST]/.test(t)?e.setAttributeNS("http://www.w3.org/1999/xlink",t.replace("xlink","xlink:").toLowerCase(),n):e.setAttribute(t,n))},oe=(e,t)=>{for(const n of t)n instanceof Node?e.appendChild(n):Array.isArray(n)?oe(e,n):typeof n!="boolean"&&typeof n<"u"&&n!==null&&e.appendChild(document.createTextNode(n))},ut=new Set(["contentEditable","draggable","spellCheck","value","autoReverse","externalResourcesRequired","focusable","preserveAlpha"]),c=(e,t,...n)=>{var r;const o=st(e);if(oe(o,n),o instanceof DocumentFragment||!t)return o;for(let[i,s]of Object.entries(t))if(i==="htmlFor"&&(i="for"),i==="class"||i==="className"){const u=(r=o.getAttribute("class"))!==null&&r!==void 0?r:"";z(o,"class",(u+" "+String(s)).trim())}else if(i==="style")it(o,s);else if(i.startsWith("on")){const u=i.slice(2).toLowerCase().replace(/^-/,"");o.addEventListener(u,s)}else i==="dangerouslySetInnerHTML"&&"__html"in s?o.innerHTML=s.__html:i!=="key"&&(ut.has(i)||s!==!1)&&z(o,i,s===!0?"":s);return o},lt="Phillip",at=30,ct=re(["Hello, world!","Using Dom-chef + F#"]);function ft(){return c(DocumentFragment,null,Ze(Ye(e=>c("span",null,e),ct)))}function ht(){return c("h1",{class:"Heading"},"Hello Thing 2")}function mt(){const e=document.createElement("h1");return e.classList.add("Heading"),e.innerHTML="Hello Thing 3",e}function dt(e){k(T("clicked"))}const gt=c("div",null,c("span",{onClick:e=>{dt()}},"Click Me!"),c("br",null),"Name: ",lt,", Age: ",at,c(ft,null),c(ht,null),c(mt,null),c("br",null),c("h1",null,"Hello, world!"),c("p",null,"Using Dom-chef + F#"));function pt(){const e=document.getElementById("app");k(T("at mdn-canvas-tutorial")),e.innerHTML,e.appendChild(gt)}class _ extends P{constructor(t,n,r){super(),this.path=t,this.title=n,this.callback=r}}class bt extends P{constructor(t,n){super(),this.root=t,this.routes=n}}function yt(e,t){return k(T("findRoute: %s"))(e),te(n=>new _(t.root+n.path,n.title,n.callback),et(n=>n.path===e,t.routes))}function wt(e){history.replaceState({path:e.path},e.title,e.path),e.callback(),document.title=e.title}function St(e){history.pushState({path:e.path},e.title,e.path),e.callback(),document.title=e.title}function Ct(e){e.callback(),document.title=e.title}function G(e,t,n){return te(t,yt(e,n))}function Et(e,t){return G(e,n=>{wt(n)},t)}function vt(e,t){return G(e,n=>{St(n)},t)}function Ot(e,t){return G(e,n=>{Ct(n)},t)}const H="Fable Experiments",C=new bt("/fable-experiments",re([new _("/",H+" - Home",()=>{document.getElementById("app").innerHTML="Home",document.title="Fable - Home"}),new _("/about",H+" - About",()=>{tt()}),new _("/mdn-canvas-tutorial",H+" - Port - MDN Canvas Tutorial",()=>{pt()})]));function Tt(){const e=document.getElementsByClassName("app-route");for(let t=0;t<=e.length-1;t++){const n=e[t];n.addEventListener("click",r=>{const o=n.getAttribute("href");window.event.preventDefault(),vt(o,C)})}}window.addEventListener("popstate",e=>{Ot(x(window.location.pathname,C.root,""),C)});window.onload=e=>{const t=window.location.pathname;k(T("window.location.pathname: %s"))(t),Tt(),Et(x(window.location.pathname,C.root,""),C)};
