(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function b(t){return Array.isArray(t)||ArrayBuffer.isView(t)}function Z(t){return t!=null&&typeof t.GetEnumerator=="function"}function X(t){return t!=null&&typeof t.CompareTo=="function"}function Q(t){return t!=null&&typeof t.Equals=="function"}function Y(t){return t!=null&&typeof t.GetHashCode=="function"}function C(){return null}function D(t,e){var n,r;return((n=Object.getPrototypeOf(t))==null?void 0:n.constructor)===((r=Object.getPrototypeOf(e))==null?void 0:r.constructor)}class x{constructor(e){this.iter=e,this.current=C()}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const e=this.iter.next();return this.current=e.value,!e.done}"System.Collections.IEnumerator.Reset"(){throw new Error("JS iterators cannot be reset")}Dispose(){}}function P(t){return Z(t)?t.GetEnumerator():new x(t[Symbol.iterator]())}function tt(t){return{next(){const e=t["System.Collections.IEnumerator.MoveNext"](),n=e?t["System.Collections.Generic.IEnumerator`1.get_Current"]():void 0;return{done:!e,value:n}}}}function A(t,e){return t.toString(10).padStart(e,"0")}function F(t){const e=t;return typeof e.offset=="number"?e.offset:t.kind===1?0:t.getTimezoneOffset()*-6e4}class f{static id(e){return f.idMap.has(e)||f.idMap.set(e,++f.count),f.idMap.get(e)}}f.idMap=new WeakMap;f.count=0;function V(t){let e=0,n=5381;const r=t.length;for(;e<r;)n=n*33^t.charCodeAt(e++);return n}function L(t){return t*2654435761|0}function et(t){return V(t.toString(32))}function k(t){let e=0;const n=t.length;for(let r=0;r<n;r++){const o=t[r];e=(e<<5)+e^o}return e}function nt(t){return t.getTime()}function rt(t){const e=t.length,n=new Array(e);for(let r=0;r<e;r++)n[r]=S(t[r]);return k(n)}function S(t){var e;if(t==null)return 0;switch(typeof t){case"boolean":return t?1:0;case"number":return L(t);case"bigint":return et(t);case"string":return V(t);default:{if(Y(t))return t.GetHashCode();if(b(t))return rt(t);if(t instanceof Date)return nt(t);if(((e=Object.getPrototypeOf(t))==null?void 0:e.constructor)===Object){const n=Object.values(t).map(r=>S(r));return k(n)}else return L(f.id(t))}}}function ot(t,e,n){if(t==null)return e==null;if(e==null||t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function it(t,e){return ot(t,e,E)}function ut(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;n.sort(),r.sort();for(let o=0;o<n.length;o++)if(n[o]!==r[o]||!E(t[n[o]],e[r[o]]))return!1;return!0}function E(t,e){var n;return t===e?!0:t==null?e==null:e==null?!1:Q(t)?t.Equals(e):b(t)?b(e)&&it(t,e):typeof t!="object"?!1:t instanceof Date?e instanceof Date&&B(t,e)===0:((n=Object.getPrototypeOf(t))==null?void 0:n.constructor)===Object&&ut(t,e)}function B(t,e){let n,r;return"offset"in t&&"offset"in e?(n=t.getTime(),r=e.getTime()):(n=t.getTime()+F(t),r=e.getTime()+F(e)),n===r?0:n<r?-1:1}function st(t,e,n){if(t==null)return e==null?0:1;if(e==null)return-1;if(t.length!==e.length)return t.length<e.length?-1:1;for(let r=0,o=0;r<t.length;r++)if(o=n(t[r],e[r]),o!==0)return o;return 0}function lt(t,e){return st(t,e,w)}function ct(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return n.length<r.length?-1:1;n.sort(),r.sort();for(let o=0,i=0;o<n.length;o++){const u=n[o];if(u!==r[o])return u<r[o]?-1:1;if(i=w(t[u],e[u]),i!==0)return i}return 0}function w(t,e){var n;return t===e?0:t==null?e==null?0:-1:e==null?1:X(t)?t.CompareTo(e):b(t)?b(e)?lt(t,e):-1:typeof t!="object"?t<e?-1:1:t instanceof Date?e instanceof Date?B(t,e):-1:((n=Object.getPrototypeOf(t))==null?void 0:n.constructor)===Object?ct(t,e):-1}function at(t){let e=0,n="[";for(const r of t){if(e===0)n+=y(r);else if(e===100){n+="; ...";break}else n+="; "+y(r);e++}return n+"]"}function y(t,e=0){var n;if(t!=null&&typeof t=="object"){if(typeof t.toString=="function")return t.toString();if(Symbol.iterator in t)return at(t);{const r=(n=Object.getPrototypeOf(t))==null?void 0:n.constructor;return r===Object&&e<10?"{ "+Object.entries(t).map(([o,i])=>o+" = "+y(i,e+1)).join(`
  `)+" }":(r==null?void 0:r.name)??""}}return String(t)}function ft(t){const e={},n=Object.keys(t);for(let r=0;r<n.length;r++)e[n[r]]=t[n[r]];return e}function ht(t){return"{ "+Object.entries(t).map(([e,n])=>e+" = "+y(n)).join(`
  `)+" }"}function mt(t){const e=Object.values(t).map(n=>S(n));return k(e)}function dt(t,e){if(t===e)return!0;if(D(t,e)){const n=Object.keys(t);for(let r=0;r<n.length;r++)if(!E(t[n[r]],e[n[r]]))return!1;return!0}else return!1}function gt(t,e){if(t===e)return 0;if(D(t,e)){const n=Object.keys(t);for(let r=0;r<n.length;r++){const o=w(t[n[r]],e[n[r]]);if(o!==0)return o}return 0}else return-1}class W{toJSON(){return ft(this)}toString(){return ht(this)}GetHashCode(){return mt(this)}Equals(e){return dt(this,e)}CompareTo(e){return gt(this,e)}}const d=Symbol("numeric");function pt(t){return typeof t=="number"||typeof t=="bigint"||(t==null?void 0:t[d])}function bt(t,e){return typeof t=="number"||typeof t=="bigint"?t<e?-1:t>e?1:0:t.CompareTo(e)}function yt(t,e){return typeof t=="number"?t*e:typeof t=="bigint"?t*BigInt(e):t[d]().multiply(e)}function St(t,e){return typeof t=="number"?t.toFixed(e):typeof t=="bigint"?t:t[d]().toFixed(e)}function M(t,e){return typeof t=="number"?t.toPrecision(e):typeof t=="bigint"?t:t[d]().toPrecision(e)}function R(t,e){return typeof t=="number"?t.toExponential(e):typeof t=="bigint"?t:t[d]().toExponential(e)}function q(t){return typeof t=="number"?(Number(t)>>>0).toString(16):typeof t=="bigint"?BigInt.asUintN(64,t).toString(16):t[d]().toHex()}function Et(t){const e=t<0;t=Math.abs(t);const n=~~(t/36e5),r=t%36e5/6e4;return(e?"-":"+")+A(n,2)+":"+A(r,2)}function wt(t,e){return new Date(t.getTime()+(t.offset??0)).toISOString().replace(/\.\d+/,"").replace(/[A-Z]|\.\d+/g," ")+Et(t.offset??0)}function Ot(t,e){return t.kind===1?t.toUTCString():t.toLocaleString()}function Ct(t,e,n){return t.offset!=null?wt(t):Ot(t)}const p=/(^|[^%])%([0+\- ]*)(\*|\d+)?(?:\.(\d+))?(\w)/g;function vt(t,e){return bt(t,e)<0}function v(t){return{input:t,cont:It(t)}}function Tt(t,e){return typeof e=="string"?t(e):e.cont(t)}function T(t){return Tt(e=>console.log(e),t)}function jt(t,e,n,r,o){let i="";if(e=e||"",o=o||"",pt(t))switch(o.toLowerCase()!=="x"&&(vt(t,0)?(t=yt(t,-1),i="-"):e.indexOf(" ")>=0?i=" ":e.indexOf("+")>=0&&(i="+")),r=r==null?null:parseInt(r,10),o){case"f":case"F":r=r??6,t=St(t,r);break;case"g":case"G":t=r!=null?M(t,r):M(t);break;case"e":case"E":t=r!=null?R(t,r):R(t);break;case"x":t=q(t);break;case"X":t=q(t).toUpperCase();break;default:t=String(t);break}else t instanceof Date?t=Ct(t):t=y(t);if(n=typeof n=="number"?n:parseInt(n,10),isNaN(n))t=i+t;else{const u=e.indexOf("0")>=0,s=e.indexOf("-")>=0,l=s||!u?" ":"0";l==="0"?(t=G(t,n-i.length,l,s),t=i+t):t=G(i+t,n,l,s)}return t}function $(t,e,n,r="",o=-1){return(...i)=>{let u=r;const s=e.slice(),l=n.slice();for(const c of i){const[,,h,g,O,z]=l[0];let j=g;if(o>=0)j=o,o=-1;else if(j==="*"){if(c<0)throw new Error("Non-negative number required");o=c;continue}u+=s[0],u+=jt(c,h,j,O,z),s.splice(0,1),l.splice(0,1)}return l.length===0?(u+=s[0],t(u)):$(t,s,l,u,o)}}function It(t){return e=>{p.lastIndex=0;const n=[],r=[];let o=0,i=p.exec(t);for(;i;){const u=i.index+(i[1]||"").length;n.push(t.substring(o,u).replace(/%%/g,"%")),r.push(i),o=p.lastIndex,p.lastIndex-=1,i=p.exec(t)}return n.length===0?e(t.replace(/%%/g,"%")):(n.push(t.substring(o).replace(/%%/g,"%")),$(e,n,r))}}function _t(t,e){return Array.isArray(e)?e.join(t):Array.from(e).join(t)}function G(t,e,n,r){n=n||" ",e=e-t.length;for(let o=0;o<e;o++)t=r?t+n:n+t;return t}class m{constructor(e){this.value=e}toJSON(){return this.value}toString(){return String(this.value)}GetHashCode(){return S(this.value)}Equals(e){return e==null?!1:E(this.value,e instanceof m?e.value:e)}CompareTo(e){return e==null?1:w(this.value,e instanceof m?e.value:e)}}function a(t){if(t==null)throw new Error("Option has no value");return t instanceof m?t.value:t}function K(t){return t==null||t instanceof m?new m(t):t}function kt(t,e){return e!=null?K(t(a(e))):void 0}const J="Collection was empty.";function Ht(t,e){if(t<0||t>=e.length)throw new Error("Index was outside the bounds of the array.\\nParameter name: index");return e[t]}class U extends W{constructor(e,n){super(),this.head=e,this.tail=n}toString(){return"["+_t("; ",this)+"]"}Equals(e){const n=this;return n===e?!0:((o,i)=>{t:for(;;){const u=o,s=i,l=u.tail,c=s.tail;if(l!=null)if(c!=null){const h=a(l),g=a(c);if(E(u.head,s.head)){o=h,i=g;continue t}else return!1}else return!1;else return c==null}})(n,e)}GetHashCode(){return((r,o,i)=>{t:for(;;){const u=r,s=o,l=i,c=l.tail;if(c!=null){const h=a(c);if(u>18)return s|0;r=u+1,o=(s<<1)+S(l.head)+631*u,i=h;continue t}else return s|0}})(0,0,this)|0}toJSON(){const e=this;return Array.from(e)}CompareTo(e){return((o,i)=>{t:for(;;){const u=o,s=i,l=u.tail,c=s.tail;if(l!=null)if(c!=null){const h=a(l),g=a(c),O=w(u.head,s.head)|0;if(O===0){o=h,i=g;continue t}else return O|0}else return 1;else return c!=null?-1:0}})(this,e)|0}GetEnumerator(){return Pt(this)}[Symbol.iterator](){return tt(P(this))}"System.Collections.IEnumerable.GetEnumerator"(){return P(this)}}class Nt{constructor(e){this.xs=e,this.it=this.xs,this.current=C()}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const e=this,n=e.it.tail;if(n!=null){const r=a(n);return e.current=e.it.head,e.it=r,!0}else return!1}"System.Collections.IEnumerator.Reset"(){const e=this;e.it=e.xs,e.current=C()}Dispose(){}}function Pt(t){return new Nt(t)}function At(){return new U(C(),void 0)}function Ft(t,e){return new U(t,e)}function Lt(t){return t.tail==null}function Mt(t){if(t.tail!=null)return t.head;throw new Error(J+"\\nParameter name: list")}function Rt(t){const e=t.tail;if(e!=null)return a(e);throw new Error(J+"\\nParameter name: list")}function qt(t,e){let n=e;for(let r=t.length-1;r>=0;r--)n=Ft(Ht(r,t),n);return n}function Gt(t){return qt(t,At())}function Dt(t,e){return(r=>{t:for(;;){const o=r;if(Lt(o))return;{const i=t(Mt(o));if(i==null){r=Rt(o);continue t}else return i}}})(e)}function Vt(t,e){return Dt(n=>t(n)?K(n):void 0,e)}function Bt(){const t=document.getElementById("app");T(v("at about")),t.innerHTML="About"}function Wt(){const t=document.getElementById("app");T(v("at mdn-canvas-tutorial")),t.innerHTML="MDN Canvas Tutorial"}class I extends W{constructor(e,n,r){super(),this.path=e,this.title=n,this.callback=r}}function $t(t,e){return Vt(n=>n.path===t,e)}function Kt(t){history.replaceState({path:t.path},t.title,t.path),t.callback(),document.title=t.title}function Jt(t){history.pushState({path:t.path},t.title,t.path),t.callback(),document.title=t.title}function Ut(t){t.callback(),document.title=t.title}function H(t,e,n){return kt(e,$t(t,n))}function zt(t,e){return H(t,n=>{Kt(n)},e)}function Zt(t,e){return H(t,n=>{Jt(n)},e)}function Xt(t,e){return H(t,n=>{Ut(n)},e)}const _="Fable Experiments",N=Gt([new I("/",_+" - Home",()=>{document.getElementById("app").innerHTML="Home",document.title="Fable - Home"}),new I("/about",_+" - About",()=>{Bt()}),new I("/mdn-canvas-tutorial",_+" - Port - MDN Canvas Tutorial",()=>{Wt()})]);function Qt(){const t=document.getElementsByClassName("app-route");for(let e=0;e<=t.length-1;e++){const n=t[e];n.addEventListener("click",r=>{const o=n.getAttribute("href");window.event.preventDefault(),Zt(o,N)})}}window.addEventListener("popstate",t=>{Xt(window.location.pathname,N)});window.onload=t=>{const e=document.getElementById("app-base"),n=window.location.hostname;T(v("%s"))(n),window.location.hostname==="localhost"?e.setAttribute("href","http://localhost:5173"):e.setAttribute("href","https://davidbruce.fable-experiments.github.io"),T(v("onload")),Qt(),zt(window.location.pathname,N)};
