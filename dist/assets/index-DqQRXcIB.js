(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function b(t){return Array.isArray(t)||ArrayBuffer.isView(t)}function Q(t){return t!=null&&typeof t.GetEnumerator=="function"}function Y(t){return t!=null&&typeof t.CompareTo=="function"}function x(t){return t!=null&&typeof t.Equals=="function"}function tt(t){return t!=null&&typeof t.GetHashCode=="function"}function I(){return null}function V(t,e){var n,r;return((n=Object.getPrototypeOf(t))==null?void 0:n.constructor)===((r=Object.getPrototypeOf(e))==null?void 0:r.constructor)}class et{constructor(e){this.iter=e,this.current=I()}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const e=this.iter.next();return this.current=e.value,!e.done}"System.Collections.IEnumerator.Reset"(){throw new Error("JS iterators cannot be reset")}Dispose(){}}function R(t){return Q(t)?t.GetEnumerator():new et(t[Symbol.iterator]())}function nt(t){return{next(){const e=t["System.Collections.IEnumerator.MoveNext"](),n=e?t["System.Collections.Generic.IEnumerator`1.get_Current"]():void 0;return{done:!e,value:n}}}}function A(t,e){return t.toString(10).padStart(e,"0")}function F(t){const e=t;return typeof e.offset=="number"?e.offset:t.kind===1?0:t.getTimezoneOffset()*-6e4}class f{static id(e){return f.idMap.has(e)||f.idMap.set(e,++f.count),f.idMap.get(e)}}f.idMap=new WeakMap;f.count=0;function $(t){let e=0,n=5381;const r=t.length;for(;e<r;)n=n*33^t.charCodeAt(e++);return n}function L(t){return t*2654435761|0}function rt(t){return $(t.toString(32))}function H(t){let e=0;const n=t.length;for(let r=0;r<n;r++){const o=t[r];e=(e<<5)+e^o}return e}function ot(t){return t.getTime()}function it(t){const e=t.length,n=new Array(e);for(let r=0;r<e;r++)n[r]=O(t[r]);return H(n)}function O(t){var e;if(t==null)return 0;switch(typeof t){case"boolean":return t?1:0;case"number":return L(t);case"bigint":return rt(t);case"string":return $(t);default:{if(tt(t))return t.GetHashCode();if(b(t))return it(t);if(t instanceof Date)return ot(t);if(((e=Object.getPrototypeOf(t))==null?void 0:e.constructor)===Object){const n=Object.values(t).map(r=>O(r));return H(n)}else return L(f.id(t))}}}function ut(t,e,n){if(t==null)return e==null;if(e==null||t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function st(t,e){return ut(t,e,C)}function lt(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;n.sort(),r.sort();for(let o=0;o<n.length;o++)if(n[o]!==r[o]||!C(t[n[o]],e[r[o]]))return!1;return!0}function C(t,e){var n;return t===e?!0:t==null?e==null:e==null?!1:x(t)?t.Equals(e):b(t)?b(e)&&st(t,e):typeof t!="object"?!1:t instanceof Date?e instanceof Date&&B(t,e)===0:((n=Object.getPrototypeOf(t))==null?void 0:n.constructor)===Object&&lt(t,e)}function B(t,e){let n,r;return"offset"in t&&"offset"in e?(n=t.getTime(),r=e.getTime()):(n=t.getTime()+F(t),r=e.getTime()+F(e)),n===r?0:n<r?-1:1}function ct(t,e,n){if(t==null)return e==null?0:1;if(e==null)return-1;if(t.length!==e.length)return t.length<e.length?-1:1;for(let r=0,o=0;r<t.length;r++)if(o=n(t[r],e[r]),o!==0)return o;return 0}function at(t,e){return ct(t,e,v)}function ft(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return n.length<r.length?-1:1;n.sort(),r.sort();for(let o=0,i=0;o<n.length;o++){const u=n[o];if(u!==r[o])return u<r[o]?-1:1;if(i=v(t[u],e[u]),i!==0)return i}return 0}function v(t,e){var n;return t===e?0:t==null?e==null?0:-1:e==null?1:Y(t)?t.CompareTo(e):b(t)?b(e)?at(t,e):-1:typeof t!="object"?t<e?-1:1:t instanceof Date?e instanceof Date?B(t,e):-1:((n=Object.getPrototypeOf(t))==null?void 0:n.constructor)===Object?ft(t,e):-1}function ht(t){let e=0,n="[";for(const r of t){if(e===0)n+=y(r);else if(e===100){n+="; ...";break}else n+="; "+y(r);e++}return n+"]"}function y(t,e=0){var n;if(t!=null&&typeof t=="object"){if(typeof t.toString=="function")return t.toString();if(Symbol.iterator in t)return ht(t);{const r=(n=Object.getPrototypeOf(t))==null?void 0:n.constructor;return r===Object&&e<10?"{ "+Object.entries(t).map(([o,i])=>o+" = "+y(i,e+1)).join(`
  `)+" }":(r==null?void 0:r.name)??""}}return String(t)}function mt(t){const e={},n=Object.keys(t);for(let r=0;r<n.length;r++)e[n[r]]=t[n[r]];return e}function dt(t){return"{ "+Object.entries(t).map(([e,n])=>e+" = "+y(n)).join(`
  `)+" }"}function gt(t){const e=Object.values(t).map(n=>O(n));return H(e)}function pt(t,e){if(t===e)return!0;if(V(t,e)){const n=Object.keys(t);for(let r=0;r<n.length;r++)if(!C(t[n[r]],e[n[r]]))return!1;return!0}else return!1}function bt(t,e){if(t===e)return 0;if(V(t,e)){const n=Object.keys(t);for(let r=0;r<n.length;r++){const o=v(t[n[r]],e[n[r]]);if(o!==0)return o}return 0}else return-1}class N{toJSON(){return mt(this)}toString(){return dt(this)}GetHashCode(){return gt(this)}Equals(e){return pt(this,e)}CompareTo(e){return bt(this,e)}}const d=Symbol("numeric");function yt(t){return typeof t=="number"||typeof t=="bigint"||(t==null?void 0:t[d])}function St(t,e){return typeof t=="number"||typeof t=="bigint"?t<e?-1:t>e?1:0:t.CompareTo(e)}function wt(t,e){return typeof t=="number"?t*e:typeof t=="bigint"?t*BigInt(e):t[d]().multiply(e)}function Et(t,e){return typeof t=="number"?t.toFixed(e):typeof t=="bigint"?t:t[d]().toFixed(e)}function M(t,e){return typeof t=="number"?t.toPrecision(e):typeof t=="bigint"?t:t[d]().toPrecision(e)}function q(t,e){return typeof t=="number"?t.toExponential(e):typeof t=="bigint"?t:t[d]().toExponential(e)}function G(t){return typeof t=="number"?(Number(t)>>>0).toString(16):typeof t=="bigint"?BigInt.asUintN(64,t).toString(16):t[d]().toHex()}function Ot(t){const e=t<0;t=Math.abs(t);const n=~~(t/36e5),r=t%36e5/6e4;return(e?"-":"+")+A(n,2)+":"+A(r,2)}function Ct(t,e){return new Date(t.getTime()+(t.offset??0)).toISOString().replace(/\.\d+/,"").replace(/[A-Z]|\.\d+/g," ")+Ot(t.offset??0)}function vt(t,e){return t.kind===1?t.toUTCString():t.toLocaleString()}function Tt(t,e,n){return t.offset!=null?Ct(t):vt(t)}function jt(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}const p=/(^|[^%])%([0+\- ]*)(\*|\d+)?(?:\.(\d+))?(\w)/g;function It(t,e){return St(t,e)<0}function S(t){return{input:t,cont:Ht(t)}}function _t(t,e){return typeof e=="string"?t(e):e.cont(t)}function w(t){return _t(e=>console.log(e),t)}function kt(t,e,n,r,o){let i="";if(e=e||"",o=o||"",yt(t))switch(o.toLowerCase()!=="x"&&(It(t,0)?(t=wt(t,-1),i="-"):e.indexOf(" ")>=0?i=" ":e.indexOf("+")>=0&&(i="+")),r=r==null?null:parseInt(r,10),o){case"f":case"F":r=r??6,t=Et(t,r);break;case"g":case"G":t=r!=null?M(t,r):M(t);break;case"e":case"E":t=r!=null?q(t,r):q(t);break;case"x":t=G(t);break;case"X":t=G(t).toUpperCase();break;default:t=String(t);break}else t instanceof Date?t=Tt(t):t=y(t);if(n=typeof n=="number"?n:parseInt(n,10),isNaN(n))t=i+t;else{const u=e.indexOf("0")>=0,s=e.indexOf("-")>=0,l=s||!u?" ":"0";l==="0"?(t=D(t,n-i.length,l,s),t=i+t):t=D(i+t,n,l,s)}return t}function W(t,e,n,r="",o=-1){return(...i)=>{let u=r;const s=e.slice(),l=n.slice();for(const c of i){const[,,h,g,T,X]=l[0];let _=g;if(o>=0)_=o,o=-1;else if(_==="*"){if(c<0)throw new Error("Non-negative number required");o=c;continue}u+=s[0],u+=kt(c,h,_,T,X),s.splice(0,1),l.splice(0,1)}return l.length===0?(u+=s[0],t(u)):W(t,s,l,u,o)}}function Ht(t){return e=>{p.lastIndex=0;const n=[],r=[];let o=0,i=p.exec(t);for(;i;){const u=i.index+(i[1]||"").length;n.push(t.substring(o,u).replace(/%%/g,"%")),r.push(i),o=p.lastIndex,p.lastIndex-=1,i=p.exec(t)}return n.length===0?e(t.replace(/%%/g,"%")):(n.push(t.substring(o).replace(/%%/g,"%")),W(e,n,r))}}function Nt(t,e){return Array.isArray(e)?e.join(t):Array.from(e).join(t)}function D(t,e,n,r){n=n||" ",e=e-t.length;for(let o=0;o<e;o++)t=r?t+n:n+t;return t}function K(t,e,n){return t.replace(new RegExp(jt(e),"g"),n)}class m{constructor(e){this.value=e}toJSON(){return this.value}toString(){return String(this.value)}GetHashCode(){return O(this.value)}Equals(e){return e==null?!1:C(this.value,e instanceof m?e.value:e)}CompareTo(e){return e==null?1:v(this.value,e instanceof m?e.value:e)}}function a(t){if(t==null)throw new Error("Option has no value");return t instanceof m?t.value:t}function J(t){return t==null||t instanceof m?new m(t):t}function U(t,e){return e!=null?J(t(a(e))):void 0}const z="Collection was empty.";function Pt(t,e){if(t<0||t>=e.length)throw new Error("Index was outside the bounds of the array.\\nParameter name: index");return e[t]}class Z extends N{constructor(e,n){super(),this.head=e,this.tail=n}toString(){return"["+Nt("; ",this)+"]"}Equals(e){const n=this;return n===e?!0:((o,i)=>{t:for(;;){const u=o,s=i,l=u.tail,c=s.tail;if(l!=null)if(c!=null){const h=a(l),g=a(c);if(C(u.head,s.head)){o=h,i=g;continue t}else return!1}else return!1;else return c==null}})(n,e)}GetHashCode(){return((r,o,i)=>{t:for(;;){const u=r,s=o,l=i,c=l.tail;if(c!=null){const h=a(c);if(u>18)return s|0;r=u+1,o=(s<<1)+O(l.head)+631*u,i=h;continue t}else return s|0}})(0,0,this)|0}toJSON(){const e=this;return Array.from(e)}CompareTo(e){return((o,i)=>{t:for(;;){const u=o,s=i,l=u.tail,c=s.tail;if(l!=null)if(c!=null){const h=a(l),g=a(c),T=v(u.head,s.head)|0;if(T===0){o=h,i=g;continue t}else return T|0}else return 1;else return c!=null?-1:0}})(this,e)|0}GetEnumerator(){return At(this)}[Symbol.iterator](){return nt(R(this))}"System.Collections.IEnumerable.GetEnumerator"(){return R(this)}}class Rt{constructor(e){this.xs=e,this.it=this.xs,this.current=I()}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const e=this,n=e.it.tail;if(n!=null){const r=a(n);return e.current=e.it.head,e.it=r,!0}else return!1}"System.Collections.IEnumerator.Reset"(){const e=this;e.it=e.xs,e.current=I()}Dispose(){}}function At(t){return new Rt(t)}function Ft(){return new Z(I(),void 0)}function Lt(t,e){return new Z(t,e)}function Mt(t){return t.tail==null}function qt(t){if(t.tail!=null)return t.head;throw new Error(z+"\\nParameter name: list")}function Gt(t){const e=t.tail;if(e!=null)return a(e);throw new Error(z+"\\nParameter name: list")}function Dt(t,e){let n=e;for(let r=t.length-1;r>=0;r--)n=Lt(Pt(r,t),n);return n}function Vt(t){return Dt(t,Ft())}function $t(t,e){return(r=>{t:for(;;){const o=r;if(Mt(o))return;{const i=t(qt(o));if(i==null){r=Gt(o);continue t}else return i}}})(e)}function Bt(t,e){return $t(n=>t(n)?J(n):void 0,e)}function Wt(){const t=document.getElementById("app");w(S("at about")),t.innerHTML="About"}function Kt(){const t=document.getElementById("app");w(S("at mdn-canvas-tutorial")),t.innerHTML="MDN Canvas Tutorial"}class j extends N{constructor(e,n,r){super(),this.path=e,this.title=n,this.callback=r}}class Jt extends N{constructor(e,n){super(),this.root=e,this.routes=n}}function Ut(t,e){return w(S("findRoute: %s"))(t),U(n=>new j(e.root+n.path,n.title,n.callback),Bt(n=>n.path===t,e.routes))}function zt(t){history.replaceState({path:t.path},t.title,t.path),t.callback(),document.title=t.title}function Zt(t){history.pushState({path:t.path},t.title,t.path),t.callback(),document.title=t.title}function Xt(t){t.callback(),document.title=t.title}function P(t,e,n){return U(e,Ut(t,n))}function Qt(t,e){return P(t,n=>{zt(n)},e)}function Yt(t,e){return P(t,n=>{Zt(n)},e)}function xt(t,e){return P(t,n=>{Xt(n)},e)}const k="Fable Experiments",E=new Jt("/fable-experiments",Vt([new j("/",k+" - Home",()=>{document.getElementById("app").innerHTML="Home",document.title="Fable - Home"}),new j("/about",k+" - About",()=>{Wt()}),new j("/mdn-canvas-tutorial",k+" - Port - MDN Canvas Tutorial",()=>{Kt()})]));function te(){const t=document.getElementsByClassName("app-route");for(let e=0;e<=t.length-1;e++){const n=t[e];n.addEventListener("click",r=>{const o=n.getAttribute("href");window.event.preventDefault(),Yt(o,E)})}}window.addEventListener("popstate",t=>{xt(K(window.location.pathname,E.root,""),E)});window.onload=t=>{w(S("onload"));const e=window.location.pathname;w(S("window.location.pathname: %s"))(e),te(),Qt(K(window.location.pathname,E.root,""),E)};
